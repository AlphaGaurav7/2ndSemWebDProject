<html>
  <head>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css"
    />
    <link rel="stylesheet" href="/static/teacher_table.css" />
  </head>
  <body>
    <!-- Navbar shit -->
    <nav class="navbar-dark navbar-expand-lg navbar">
      <div class="container-fluid navb-links-container">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a href="#"><button class="styled-button">Home</button></a>
            </li>
            <li class="nav-item">
              <a href="#"><button class="styled-button">Timetable</button></a>
            </li>
            <li class="nav-item">
              <a href="#"><button class="styled-button">Assignments</button></a>
            </li>
            <li class="nav-item">
              <a href="#"><button class="styled-button">Attendance</button></a>
            </li>
            <li class="nav-item">
              <a href="#"><button class="styled-button">Reports</button></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <form action="/teacher/edit_marks/{{year}}/{{branch}}/{{subject}}/{{assignment.assignment}}" method="POST">
      <button>Edit</button>
    </form>

    <div style="overflow-x: auto">
      <table
        id="teacher_table"
        cellspacing="0"
        width="100%"
        class="hover stripe table-view"
      >
        <thead>
          <tr>
            <th>Branch</th>
            <th>Roll Number</th>
            <th>Name</th>
            {%for ass in assignments%}
            <th>{{ass.assignment}}</th>
            {%endfor%}
            <th>Marks</th>
            <th>Current CGPA</th>
            <th>Overall CGPA</th>
          </tr>
        </thead>
        <tbody>
          {%for student in results%}
          <tr>
            <td>{{student[0].branch}}</td>
            <td>{{student[0].rollno}}</td>
            <td>{{student[0].fname + ' ' + student[0].lname}}</td>
            <td>{{assignment.assignment}}</td>
            <td>{{student[1].marks}}</td>
            <td>Picture baaki hai</td>
            <td>Picture baaki hai</td>
          </tr>
          {%endfor%}
        </tbody>
      </table>
    </div>
    <script
      type="text/javascript"
      charset="utf8"
      src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"
    ></script>

    <script
      type="text/javascript"
      charset="utf8"
      src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"
    ></script>
    <script
      type="text/javascript"
      charset="utf8"
      src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"
    ></script>

    <script>
      $(document).ready(function () {
        $("#teacher_table").DataTable({
          // "paging": false;
          pagingType: "full_numbers",
          columnDefs: [
            {
              targets: "_all",
              createdCell: function (td, cellData, rowData, row, col) {
                $(td).css("padding", "15px");
              },
            },
          ],
        });
      });
    </script>
    <script type="text/javascript" src="/static/teacher_table.js"></script>
  </body>
</html>
